var I18N=function(){var a=$("#i18n"),b="EN";if(!a.length)throw new Error("No i18n script object found.");var c=a.attr("i18n-src");if(!c)throw new Error("No i18n file given.");var d=a.attr("i18n-locale");d||(console.log('No i18n locale given. Using "'+b+'" as default.'),d=b);var e={},f={};$.get(c).done(function(a){f=a,g(d)}).fail(function(a,b){throw new Error("Error retrieving the i18n JSON file: "+b+".")});var g=function(a){if(i18n_tmp=f[a],!i18n_tmp)throw new Error("Locale "+a+" not supported.");e=i18n_tmp,h()},h=function(){var a=$("*[i18n-text]");a.each(function(a,b){var c=$(b).attr("i18n-text"),d=I18N.resolve(c);$(b).text(d)});var b=$("*[i18n-placeholder]");b.each(function(a,b){var c=$(b).attr("i18n-placeholder"),d=I18N.resolve(c);$(b).attr({placeholder:d})})},i=function(a){return j(a,e)||a},j=function(a,b){if(!b)return void 0;var c=b[a];if(!c&&b&&a&&a.indexOf(".")>1){var d=a.split(".");c=j(a.substring(a.indexOf(".")+1),b[d[0]])}return c};return{resolve:i,setLocale:g}}();