var I18N=function(){var a=$("#i18n"),b="EN";if(!a.length)throw new Error("No i18n script object found.");var c=a.attr("i18n-src");if(!c)throw new Error("No i18n file given.");var d=a.attr("i18n-locale");d||(console.log('No i18n locale given. Using "'+b+'" as default.'),d=b);var e={},f={};$.get(c).done(function(a){if(f=a,e=a[d],!e)throw new Error('Locale "'+d+'" not supported.');var b=$("*[i18n-text]");b.each(function(a,b){var c=$(b).attr("i18n-text"),d=I18N.resolve(c);$(b).text(d)})}).fail(function(a,b){throw new Error("Error retrieving the i18n JSON file: "+b+".")});var g=function(a){return h(a,e)||a},h=function(a,b){if(!b)return void 0;var c=b[a];if(!c&&b&&a.indexOf(".")>1){var d=a.split(".");c=h(a.substring(a.indexOf(".")+1),b[d[0]])}return c};return{resolve:g}}();